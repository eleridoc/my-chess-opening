
# Build everything (ordered)
npm run build:all

# Run Angular dev server
npm run build:watch:ui:angular

# Run Electron (after building everything)
npm run build:all:run:electron

# Create a migration, then generate Prisma Client, then open Prisma Studio
npm run prisma:migrate:open -- --name xxx_xxx_xxx

# Create a migration only
npm run prisma:migrate -- --name xxx_xxx_xxx

# Reset and migrate DB (electron workspace)
npm run prisma:reset

# Generate Prisma client
npm run prisma:generate

# Prisma Studio
npm run prisma:studio

-------------------------------------------------------------

# Generate app logo
chmod +x tools/generate-icons.sh
./tools/generate-icons.sh ui/angular/public/app-logo.png

# Full Reset DB
cd ~/dev/my-chess-opening/electron
rm -rf prisma/migrations
rm -f dev.db
rm -f prisma/dev.db
npx prisma migrate dev --name init
npx prisma generate
npx prisma studio

# Add page exemple
npx ng g c dashboard-page --path src/app/pages/dashboard --flat --standalone --skip-tests --type=component

# Import test
const subId = window.electron?.import.onEvent?.((e) => console.log('IMPORT EVENT', e));
window.electron?.import.start?.({
	maxGamesPerAccount: 25,
	sinceOverrideIso: new Date(Date.now() - 7 * 24 * 3600 * 1000).toISOString(),
});



// Should already be initialized by App.ngOnInit(), but ok to call:
window.ng?.getInjector?.(document.querySelector('app-root')!)?.get?.(ImportStateService)?.ensureInitialized?.();
window.electron.import.start({ maxGamesPerAccount: 10 });