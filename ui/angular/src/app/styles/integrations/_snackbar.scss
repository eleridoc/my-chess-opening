/*
	App snackbar styling (global)
	- Snackbars are rendered inside the CDK overlay container.
	- panelClass: ['mco-snackbar', `mco-snackbar--${kind}`] is applied on the snackbar container.
	- We use CSS variables so colors can be fully customized per theme and per kind.
	- Palette variables are defined in _tokens.scss (per theme).
*/

/* ----------------------------------------------------------------------- */
/* Base (shared)                                                           */
/* ----------------------------------------------------------------------- */

.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar {
	/* Geometry */
	--mco-snackbar-radius: var(--app-main-radius);
	--mco-snackbar-pad-y: 4px; /* slimmer */
	--mco-snackbar-pad-x: 10px;

	/*
		Resolved per-variant (defaults to INFO-like values).
		Each variant sets these to the theme palette tokens.
	*/
	--mco-snackbar-bg: var(--mco-snackbar-info-bg);
	--mco-snackbar-fg: var(--mco-snackbar-info-fg);
	--mco-snackbar-border: var(--mco-snackbar-info-border);
	--mco-snackbar-accent: var(--mco-snackbar-info-accent);

	/* You may want different colors for action/close later */
	--mco-snackbar-action-fg: var(--mco-snackbar-fg);
	--mco-snackbar-close-fg: var(--mco-snackbar-fg);

	/* Offset from the viewport edge (works with bottom/end positioning) */
	margin: 0 16px 16px 0;

	/* Prevent the container itself from adding extra padding around the surface */
	padding: 0;
}

/* Visible surface -------------------------------------------------------- */
.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar .mdc-snackbar__surface {
	background: var(--mco-snackbar-bg) !important;
	color: var(--mco-snackbar-fg) !important;

	border: 1px solid var(--mco-snackbar-border) !important;
	border-radius: var(--mco-snackbar-radius) !important;

	/* This is the "thickness" you perceive */
	padding: var(--mco-snackbar-pad-y) var(--mco-snackbar-pad-x) !important;

	/* Keep it consistent with your app surfaces */
	box-shadow: var(--mco-snackbar-shadow) !important;
}

/* MDC label wrapper (avoid default extra padding) ------------------------ */
.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar .mdc-snackbar__label {
	color: var(--mco-snackbar-fg) !important;
	padding: 0 !important;
	margin: 0 !important;
}

/*
	Ensure your custom snackbar component inherits the intended colors.
	We keep the rule broad to cover MDC internals + your buttons/icons.
*/
.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar {
	/* Text */
	color: var(--mco-snackbar-fg) !important;

	/* Icons */
	.snack__icon {
		color: var(--mco-snackbar-accent) !important;
	}

	/* Action button */
	.snack__action,
	.snack__action .mdc-button__label {
		color: var(--mco-snackbar-action-fg) !important;
	}

	/* Close button */
	.snack__close,
	.snack__close .mat-icon {
		color: var(--mco-snackbar-close-fg) !important;
	}
}

/* ----------------------------------------------------------------------- */
/* Variants (only resolve tokens)                                           */
/* ----------------------------------------------------------------------- */

.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar--info {
	--mco-snackbar-bg: var(--mco-snackbar-info-bg);
	--mco-snackbar-fg: var(--mco-snackbar-info-fg);
	--mco-snackbar-border: var(--mco-snackbar-info-border);
	--mco-snackbar-accent: var(--mco-snackbar-info-accent);
}

.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar--success {
	--mco-snackbar-bg: var(--mco-snackbar-success-bg);
	--mco-snackbar-fg: var(--mco-snackbar-success-fg);
	--mco-snackbar-border: var(--mco-snackbar-success-border);
	--mco-snackbar-accent: var(--mco-snackbar-success-accent);
}

.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar--warn {
	--mco-snackbar-bg: var(--mco-snackbar-warn-bg);
	--mco-snackbar-fg: var(--mco-snackbar-warn-fg);
	--mco-snackbar-border: var(--mco-snackbar-warn-border);
	--mco-snackbar-accent: var(--mco-snackbar-warn-accent);
}

.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar--error {
	--mco-snackbar-bg: var(--mco-snackbar-error-bg);
	--mco-snackbar-fg: var(--mco-snackbar-error-fg);
	--mco-snackbar-border: var(--mco-snackbar-error-border);
	--mco-snackbar-accent: var(--mco-snackbar-error-accent);
}

.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar .snack__action {
	border-radius: 999px;
}

.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar .snack__action:hover {
	background: color-mix(in oklab, var(--mco-snackbar-fg) 10%, transparent);
}

.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar .snack__action:focus-visible {
	outline: 2px solid color-mix(in oklab, var(--mco-snackbar-accent) 70%, transparent);
	outline-offset: 2px;
}

.cdk-overlay-container .mat-mdc-snack-bar-container.mco-snackbar {
	--mco-snackbar-close-fg: color-mix(in oklab, var(--mco-snackbar-fg) 75%, transparent);
}
