<div class="game-meta-card">
	<div class="game-meta-card__left">
		<mat-icon class="game-meta-card__icon">{{ icon }}</mat-icon>
	</div>

	<div class="game-meta-card__right">
		<div class="game-meta-card__meta">
			<ng-container *ngIf="metaParts.length; else emptyMeta">
				<ng-container *ngFor="let part of metaParts; let last = last">
					<span class="game-meta-card__meta-part" [attr.data-kind]="part.kind">{{
						part.text
					}}</span>
					<span class="game-meta-card__sep" *ngIf="!last">•</span>
				</ng-container>
			</ng-container>

			<ng-template #emptyMeta>—</ng-template>
		</div>

		<div class="game-meta-card__date-row">
			<span class="game-meta-card__date-text">{{ playedAtIso | appIsoDateTime }}</span>

			<ng-container *ngIf="siteLabel as label">
				<span class="game-meta-card__sep">•</span>

				<a
					*ngIf="siteUrl; else sitePlain"
					class="game-meta-card__site-link"
					[attr.href]="siteUrl"
					(click)="openExternal(siteUrl, $event)"
				>
					{{ label }}
				</a>

				<ng-template #sitePlain>
					<span class="game-meta-card__site">{{ label }}</span>
				</ng-template>
			</ng-container>
		</div>
	</div>
</div>
